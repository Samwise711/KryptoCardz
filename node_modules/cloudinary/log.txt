travis_fold:start:worker_info[0K[33;1mWorker information[0m
hostname: f047d577-53d5-463a-bd95-288479da7379@1.i-09074af-production-2-worker-org-ec2.travisci.net
version: v3.4.0 https://github.com/travis-ci/worker/tree/ce0440bc30c289a49a9b0c21e4e1e6f7d7825101
instance: eee7b68 travisci/ci-garnet:packer-1512502276-986baf0 (via amqp)
startup: 889.871193ms
travis_fold:end:worker_info[0Kmode of â€˜/usr/local/clang-5.0.0/binâ€™ changed from 0777 (rwxrwxrwx) to 0775 (rwxrwxr-x)
travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: node_js
Build group: stable
Build dist: trusty
Build id: 335697991
Job id: 335697994
Runtime kernel version: 4.14.12-041412-generic
travis-build version: c08e7e0bc
[34m[1mBuild image provisioning date and time[0m
Tue Dec  5 20:11:19 UTC 2017
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 14.04.5 LTS
Release:	14.04
Codename:	trusty
[34m[1mCookbooks Version[0m
7c2c6a6 https://github.com/travis-ci/travis-cookbooks/tree/7c2c6a6
[34m[1mgit version[0m
git version 2.15.1
[34m[1mbash version[0m
GNU bash, version 4.3.11(1)-release (x86_64-pc-linux-gnu)
[34m[1mgcc version[0m
gcc (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4
Copyright (C) 2013 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mdocker version[0m
Client:
 Version:      17.09.0-ce
 API version:  1.32
 Go version:   go1.8.3
 Git commit:   afdb6d4
 Built:        Tue Sep 26 22:39:28 2017
 OS/Arch:      linux/amd64
[34m[1mclang version[0m
clang version 5.0.0 (tags/RELEASE_500/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /usr/local/clang-5.0.0/bin
[34m[1mjq version[0m
jq-1.5
[34m[1mbats version[0m
Bats 0.4.0
[34m[1mshellcheck version[0m
0.4.6
[34m[1mshfmt version[0m
v2.0.0
[34m[1mccache version[0m
ccache version 3.1.9

Copyright (C) 2002-2007 Andrew Tridgell
Copyright (C) 2009-2011 Joel Rosdahl

This program is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation; either version 3 of the License, or (at your option) any later
version.
[34m[1mcmake version[0m
cmake version 3.9.2

CMake suite maintained and supported by Kitware (kitware.com/cmake).
[34m[1mheroku version[0m
heroku-cli/6.14.39-addc925 (linux-x64) node-v9.2.0
[34m[1mimagemagick version[0m
Version: ImageMagick 6.7.7-10 2017-07-31 Q16 http://www.imagemagick.org
[34m[1mmd5deep version[0m
4.2
[34m[1mmercurial version[0m
Mercurial Distributed SCM (version 4.2.2)
(see https://mercurial-scm.org for more information)

Copyright (C) 2005-2017 Matt Mackall and others
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
[34m[1mmysql version[0m
mysql  Ver 14.14 Distrib 5.6.33, for debian-linux-gnu (x86_64) using  EditLine wrapper
[34m[1mopenssl version[0m
OpenSSL 1.0.1f 6 Jan 2014
[34m[1mpacker version[0m
Packer v1.0.2

Your version of Packer is out of date! The latest version
is 1.1.2. You can update by downloading from www.packer.io
[34m[1mpostgresql client version[0m
psql (PostgreSQL) 9.6.6
[34m[1mragel version[0m
Ragel State Machine Compiler version 6.8 Feb 2013
Copyright (c) 2001-2009 by Adrian Thurston
[34m[1msubversion version[0m
svn, version 1.8.8 (r1568071)
   compiled Aug 10 2017, 17:20:39 on x86_64-pc-linux-gnu

Copyright (C) 2013 The Apache Software Foundation.
This software consists of contributions made by many people;
see the NOTICE file for more information.
Subversion is open source software, see http://subversion.apache.org/

The following repository access (RA) modules are available:

* ra_svn : Module for accessing a repository using the svn network protocol.
  - with Cyrus SASL authentication
  - handles 'svn' scheme
* ra_local : Module for accessing a repository on local disk.
  - handles 'file' scheme
* ra_serf : Module for accessing a repository via WebDAV protocol using serf.
  - using serf 1.3.3
  - handles 'http' scheme
  - handles 'https' scheme

[34m[1msudo version[0m
Sudo version 1.8.9p5
Configure options: --prefix=/usr -v --with-all-insults --with-pam --with-fqdn --with-logging=syslog --with-logfac=authpriv --with-env-editor --with-editor=/usr/bin/editor --with-timeout=15 --with-password-timeout=0 --with-passprompt=[sudo] password for %p:  --without-lecture --with-tty-tickets --disable-root-mailer --enable-admin-flag --with-sendmail=/usr/sbin/sendmail --with-timedir=/var/lib/sudo --mandir=/usr/share/man --libexecdir=/usr/lib/sudo --with-sssd --with-sssd-lib=/usr/lib/x86_64-linux-gnu --with-selinux
Sudoers policy plugin version 1.8.9p5
Sudoers file grammar version 43

Sudoers path: /etc/sudoers
Authentication methods: 'pam'
Syslog facility if syslog is being used for logging: authpriv
Syslog priority to use when user authenticates successfully: notice
Syslog priority to use when user authenticates unsuccessfully: alert
Send mail if the user is not in sudoers
Use a separate timestamp for each user/tty combo
Lecture user the first time they run sudo
Root may run sudo
Allow some information gathering to give useful error messages
Require fully-qualified hostnames in the sudoers file
Visudo will honor the EDITOR environment variable
Set the LOGNAME and USER environment variables
Length at which to wrap log file lines (0 for no wrap): 80
Authentication timestamp timeout: 15.0 minutes
Password prompt timeout: 0.0 minutes
Number of tries to enter a password: 3
Umask to use or 0777 to use user's: 022
Path to mail program: /usr/sbin/sendmail
Flags for mail program: -t
Address to send mail to: root
Subject line for mail messages: *** SECURITY information for %h ***
Incorrect password message: Sorry, try again.
Path to authentication timestamp dir: /var/lib/sudo
Default password prompt: [sudo] password for %p: 
Default user to run commands as: root
Value to override user's $PATH with: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin
Path to the editor for use by visudo: /usr/bin/editor
When to require a password for 'list' pseudocommand: any
When to require a password for 'verify' pseudocommand: all
File descriptors >= 3 will be closed before executing a command
Environment variables to check for sanity:
	TZ
	TERM
	LINGUAS
	LC_*
	LANGUAGE
	LANG
	COLORTERM
Environment variables to remove:
	RUBYOPT
	RUBYLIB
	PYTHONUSERBASE
	PYTHONINSPECT
	PYTHONPATH
	PYTHONHOME
	TMPPREFIX
	ZDOTDIR
	READNULLCMD
	NULLCMD
	FPATH
	PERL5DB
	PERL5OPT
	PERL5LIB
	PERLLIB
	PERLIO_DEBUG 
	JAVA_TOOL_OPTIONS
	SHELLOPTS
	GLOBIGNORE
	PS4
	BASH_ENV
	ENV
	TERMCAP
	TERMPATH
	TERMINFO_DIRS
	TERMINFO
	_RLD*
	LD_*
	PATH_LOCALE
	NLSPATH
	HOSTALIASES
	RES_OPTIONS
	LOCALDOMAIN
	CDPATH
	IFS
Environment variables to preserve:
	JAVA_HOME
	TRAVIS
	CI
	DEBIAN_FRONTEND
	XAUTHORIZATION
	XAUTHORITY
	PS2
	PS1
	PATH
	LS_COLORS
	KRB5CCNAME
	HOSTNAME
	HOME
	DISPLAY
	COLORS
Locale to use while parsing sudoers: C
Directory in which to store input/output logs: /var/log/sudo-io
File in which to store the input/output log: %{seq}
Add an entry to the utmp/utmpx file when allocating a pty
PAM service name to use
PAM service name to use for login shells
Create a new PAM session for the command to run in
Maximum I/O log sequence number: 0

Local IP address and netmask pairs:
	172.17.0.2/255.255.0.0

Sudoers I/O plugin version 1.8.9p5
[34m[1mgzip version[0m
gzip 1.6
Copyright (C) 2007, 2010, 2011 Free Software Foundation, Inc.
Copyright (C) 1993 Jean-loup Gailly.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License <http://www.gnu.org/licenses/gpl.html>.
There is NO WARRANTY, to the extent permitted by law.

Written by Jean-loup Gailly.
[34m[1mzip version[0m
Copyright (c) 1990-2008 Info-ZIP - Type 'zip "-L"' for software license.
This is Zip 3.0 (July 5th 2008), by Info-ZIP.
Currently maintained by E. Gordon.  Please send bug reports to
the authors using the web page at www.info-zip.org; see README for details.

Latest sources and executables are at ftp://ftp.info-zip.org/pub/infozip,
as of above date; see http://www.info-zip.org/ for other sites.

Compiled with gcc 4.8.2 for Unix (Linux ELF) on Oct 21 2013.

Zip special compilation options:
	USE_EF_UT_TIME       (store Universal Time)
	BZIP2_SUPPORT        (bzip2 library version 1.0.6, 6-Sept-2010)
	    bzip2 code and library copyright (c) Julian R Seward
	    (See the bzip2 license for terms of use)
	SYMLINK_SUPPORT      (symbolic links supported)
	LARGE_FILE_SUPPORT   (can read and write large files on file system)
	ZIP64_SUPPORT        (use Zip64 to store large files in archives)
	UNICODE_SUPPORT      (store and read UTF-8 Unicode paths)
	STORE_UNIX_UIDs_GIDs (store UID/GID sizes/values using new extra field)
	UIDGID_NOT_16BIT     (old Unix 16-bit UID/GID extra field not used)
	[encryption, version 2.91 of 05 Jan 2007] (modified for Zip 3)

Encryption notice:
	The encryption code of this program is not copyrighted and is
	put in the public domain.  It was originally written in Europe
	and, to the best of our knowledge, can be freely distributed
	in both source and object forms from any country, including
	the USA under License Exception TSU of the U.S. Export
	Administration Regulations (section 740.13(e)) of 6 June 2002.

Zip environment options:
             ZIP:  [none]
          ZIPOPT:  [none]
[34m[1mvim version[0m
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Nov 24 2016 16:43:18)
Included patches: 1-52
Extra patches: 8.0.0056
Modified by pkg-vim-maintainers@lists.alioth.debian.org
Compiled by buildd@
Huge version without GUI.  Features included (+) or not (-):
+acl             +farsi           +mouse_netterm   +syntax
+arabic          +file_in_path    +mouse_sgr       +tag_binary
+autocmd         +find_in_path    -mouse_sysmouse  +tag_old_static
-balloon_eval    +float           +mouse_urxvt     -tag_any_white
-browse          +folding         +mouse_xterm     -tcl
++builtin_terms  -footer          +multi_byte      +terminfo
+byte_offset     +fork()          +multi_lang      +termresponse
+cindent         +gettext         -mzscheme        +textobjects
-clientserver    -hangul_input    +netbeans_intg   +title
-clipboard       +iconv           +path_extra      -toolbar
+cmdline_compl   +insert_expand   -perl            +user_commands
+cmdline_hist    +jumplist        +persistent_undo +vertsplit
+cmdline_info    +keymap          +postscript      +virtualedit
+comments        +langmap         +printer         +visual
+conceal         +libcall         +profile         +visualextra
+cryptv          +linebreak       +python          +viminfo
+cscope          +lispindent      -python3         +vreplace
+cursorbind      +listcmds        +quickfix        +wildignore
+cursorshape     +localmap        +reltime         +wildmenu
+dialog_con      -lua             +rightleft       +windows
+diff            +menu            -ruby            +writebackup
+digraphs        +mksession       +scrollbind      -X11
-dnd             +modify_fname    +signs           -xfontset
-ebcdic          +mouse           +smartindent     -xim
+emacs_tags      -mouseshape      -sniff           -xsmp
+eval            +mouse_dec       +startuptime     -xterm_clipboard
+ex_extra        +mouse_gpm       +statusline      -xterm_save
+extra_search    -mouse_jsbterm   -sun_workshop    -xpm
   system vimrc file: "$VIM/vimrc"
     user vimrc file: "$HOME/.vimrc"
 2nd user vimrc file: "~/.vim/vimrc"
      user exrc file: "$HOME/.exrc"
  fall-back for $VIM: "/usr/share/vim"
Compilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H     -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1      
Linking: gcc   -Wl,-Bsymbolic-functions -Wl,-z,relro -Wl,--as-needed -o vim        -lm -ltinfo -lnsl  -lselinux  -lacl -lattr -lgpm -ldl    -L/usr/lib/python2.7/config-x86_64-linux-gnu -lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions      
[34m[1miptables version[0m
iptables v1.4.21
[34m[1mcurl version[0m
curl 7.35.0 (x86_64-pc-linux-gnu) libcurl/7.35.0 OpenSSL/1.0.1f zlib/1.2.8 libidn/1.28 librtmp/2.3
[34m[1mwget version[0m
GNU Wget 1.15 built on linux-gnu.
[34m[1mrsync version[0m
rsync  version 3.1.0  protocol version 31
[34m[1mgimme version[0m
v1.2.0
[34m[1mnvm version[0m
0.33.6
[34m[1mperlbrew version[0m
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.80
[34m[1mphpenv version[0m
rbenv 1.1.1-25-g6aa70b6
[34m[1mrvm version[0m
rvm 1.29.3 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
[34m[1mdefault ruby version[0m
ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mElasticSearch version[0m
5.5.0
[34m[1mInstalled Firefox version[0m
firefox 56.0.2
[34m[1mMongoDB version[0m
MongoDB 3.4.10
[34m[1mPhantomJS version[0m
2.1.1
[34m[1mPre-installed PostgreSQL versions[0m
9.2.24
9.3.20
9.4.15
9.5.10
9.6.6
[34m[1mRabbitMQ Version[0m
3.6.14
[34m[1mRedis version[0m
redis-server 4.0.6
[34m[1mriak version[0m
2.2.3
[34m[1mPre-installed Go versions[0m
1.7.4
[34m[1mant version[0m
Apache Ant(TM) version 1.9.3 compiled on April 8 2014
[34m[1mmvn version[0m
Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T07:58:13Z)
Maven home: /usr/local/maven-3.5.2
Java version: 1.8.0_151, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.4.0-101-generic", arch: "amd64", family: "unix"
[34m[1mgradle version[0m

------------------------------------------------------------
Gradle 4.0.1
------------------------------------------------------------

Build time:   2017-07-07 14:02:41 UTC
Revision:     38e5dc0f772daecca1d2681885d3d85414eb6826

Groovy:       2.4.11
Ant:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015
JVM:          1.8.0_151 (Oracle Corporation 25.151-b12)
OS:           Linux 4.4.0-101-generic amd64

[34m[1mlein version[0m
Leiningen 2.8.1 on Java 1.8.0_151 Java HotSpot(TM) 64-Bit Server VM
[34m[1mPre-installed Node.js versions[0m
v4.8.6
v6.12.0
v6.12.1
v8.9
v8.9.1
[34m[1mphpenv versions[0m
  system
  5.6
* 5.6.32 (set by /home/travis/.phpenv/version)
  7.0
  7.0.25
  7.1
  7.1.11
  hhvm
  hhvm-stable
[34m[1mcomposer --version[0m
Composer version 1.5.2 2017-09-11 16:59:25
[34m[1mPre-installed Ruby versions[0m
ruby-2.2.7
ruby-2.3.4
ruby-2.4.1
travis_fold:end:system_info[0K
removed â€˜/etc/apt/sources.list.d/basho_riak.listâ€™
W: http://ppa.launchpad.net/couchdb/stable/ubuntu/dists/trusty/Release.gpg: Signature by key 15866BAFD9BCC4F3C1E0DFC7D69548E1C17EAB57 uses weak digest algorithm (SHA1)
127.0.0.1	localhost
::1	 ip6-localhost ip6-loopback
fe00::0	ip6-localnet
ff00::0	ip6-mcastprefix
ff02::1	ip6-allnodes
ff02::2	ip6-allrouters
172.17.0.3	travis-job-cloudinary-cloudinary-npm-335697994.travisci.net travis-job-cloudinary-cloudinary-npm-335697994
travis_fold:start:git.checkout[0Ktravis_time:start:086a17dc[0K$ git clone --depth=50 --branch=feature/misc_and_params_completion-rebased https://github.com/cloudinary/cloudinary_npm.git cloudinary/cloudinary_npm
Cloning into 'cloudinary/cloudinary_npm'...

travis_time:end:086a17dc:start=1517415380618396200,finish=1517415382506222676,duration=1887826476[0K$ cd cloudinary/cloudinary_npm
$ git checkout -qf fb2913d7992398484308e4b1abd6ea16208b53b0
travis_fold:end:git.checkout[0K
[33;1mSetting environment variables from .travis.yml[0m
$ export CLOUDINARY_URL=[secure]

$ export PATH=./node_modules/.bin:$PATH
[33;1mUpdating nvm[0m
travis_fold:start:nvm.install[0Ktravis_time:start:04d05350[0K$ nvm install 8
Downloading and installing node v8.9.4...
Downloading https://nodejs.org/dist/v8.9.4/node-v8.9.4-linux-x64.tar.xz...
Computing checksum with sha256sum
Checksums matched!
Now using node v8.9.4 (npm v5.6.0)

travis_time:end:04d05350:start=1517415397698111298,finish=1517415400587192380,duration=2889081082[0Ktravis_fold:end:nvm.install[0K$ node --version
v8.9.4
$ npm --version
5.6.0
$ nvm --version
0.33.8
travis_fold:start:install.npm[0Ktravis_time:start:2f19a5ae[0K$ npm install 
npm WARN deprecated coffee-script@1.12.7: CoffeeScript on NPM has moved to "coffeescript" (no hyphen)
npm WARN prepublish-on-install As of npm@5, `prepublish` scripts are deprecated.
npm WARN prepublish-on-install Use `prepare` for build steps and `prepublishOnly` for upload-only.
npm WARN prepublish-on-install See the deprecation note in `npm help scripts` for more information.

> cloudinary@1.9.1 prepublish /home/travis/build/cloudinary/cloudinary_npm
> npm run compile


> cloudinary@1.9.1 compile /home/travis/build/cloudinary/cloudinary_npm
> coffee --no-header --map -o lib -c src

npm notice created a lockfile as package-lock.json. You should commit this file.
added 127 packages in 7.825s

travis_time:end:2f19a5ae:start=1517415402332408853,finish=1517415410682418054,duration=8350009201[0Ktravis_time:start:00160790[0K$ npm ls
cloudinary@1.9.1 /home/travis/build/cloudinary/cloudinary_npm
â”œâ”€â”€ coffee-script@1.12.7
â”œâ”€â”€ dotenv@4.0.0
â”œâ”€â”€ expect.js@0.3.1
â”œâ”€â”¬ jsdom@9.12.0
â”‚ â”œâ”€â”€ abab@1.0.4
â”‚ â”œâ”€â”€ acorn@4.0.13
â”‚ â”œâ”€â”¬ acorn-globals@3.1.0
â”‚ â”‚ â””â”€â”€ acorn@4.0.13 deduped
â”‚ â”œâ”€â”€ array-equal@1.0.0
â”‚ â”œâ”€â”€ content-type-parser@1.0.2
â”‚ â”œâ”€â”€ cssom@0.3.2
â”‚ â”œâ”€â”¬ cssstyle@0.2.37
â”‚ â”‚ â””â”€â”€ cssom@0.3.2 deduped
â”‚ â”œâ”€â”¬ escodegen@1.9.0
â”‚ â”‚ â”œâ”€â”€ esprima@3.1.3
â”‚ â”‚ â”œâ”€â”€ estraverse@4.2.0
â”‚ â”‚ â”œâ”€â”€ esutils@2.0.2
â”‚ â”‚ â”œâ”€â”¬ optionator@0.8.2
â”‚ â”‚ â”‚ â”œâ”€â”€ deep-is@0.1.3
â”‚ â”‚ â”‚ â”œâ”€â”€ fast-levenshtein@2.0.6
â”‚ â”‚ â”‚ â”œâ”€â”¬ levn@0.3.0
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ prelude-ls@1.1.2 deduped
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ type-check@0.3.2 deduped
â”‚ â”‚ â”‚ â”œâ”€â”€ prelude-ls@1.1.2
â”‚ â”‚ â”‚ â”œâ”€â”¬ type-check@0.3.2
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ prelude-ls@1.1.2 deduped
â”‚ â”‚ â”‚ â””â”€â”€ wordwrap@1.0.0
â”‚ â”‚ â””â”€â”€ source-map@0.5.7
â”‚ â”œâ”€â”¬ html-encoding-sniffer@1.0.2
â”‚ â”‚ â””â”€â”€ whatwg-encoding@1.0.3 deduped
â”‚ â”œâ”€â”€ nwmatcher@1.4.3
â”‚ â”œâ”€â”€ parse5@1.5.1
â”‚ â”œâ”€â”¬ request@2.83.0
â”‚ â”‚ â”œâ”€â”€ aws-sign2@0.7.0
â”‚ â”‚ â”œâ”€â”€ aws4@1.6.0
â”‚ â”‚ â”œâ”€â”€ caseless@0.12.0
â”‚ â”‚ â”œâ”€â”¬ combined-stream@1.0.5
â”‚ â”‚ â”‚ â””â”€â”€ delayed-stream@1.0.0
â”‚ â”‚ â”œâ”€â”€ extend@3.0.1
â”‚ â”‚ â”œâ”€â”€ forever-agent@0.6.1
â”‚ â”‚ â”œâ”€â”¬ form-data@2.3.1
â”‚ â”‚ â”‚ â”œâ”€â”€ asynckit@0.4.0
â”‚ â”‚ â”‚ â”œâ”€â”€ combined-stream@1.0.5 deduped
â”‚ â”‚ â”‚ â””â”€â”€ mime-types@2.1.17 deduped
â”‚ â”‚ â”œâ”€â”¬ har-validator@5.0.3
â”‚ â”‚ â”‚ â”œâ”€â”¬ ajv@5.5.2
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ co@4.6.0
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ fast-deep-equal@1.0.0
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ fast-json-stable-stringify@2.0.0
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ json-schema-traverse@0.3.1
â”‚ â”‚ â”‚ â””â”€â”€ har-schema@2.0.0
â”‚ â”‚ â”œâ”€â”¬ hawk@6.0.2
â”‚ â”‚ â”‚ â”œâ”€â”¬ boom@4.3.1
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ hoek@4.2.0 deduped
â”‚ â”‚ â”‚ â”œâ”€â”¬ cryptiles@3.1.2
â”‚ â”‚ â”‚ â”‚ â””â”€â”¬ boom@5.2.0
â”‚ â”‚ â”‚ â”‚   â””â”€â”€ hoek@4.2.0 deduped
â”‚ â”‚ â”‚ â”œâ”€â”€ hoek@4.2.0
â”‚ â”‚ â”‚ â””â”€â”¬ sntp@2.1.0
â”‚ â”‚ â”‚   â””â”€â”€ hoek@4.2.0 deduped
â”‚ â”‚ â”œâ”€â”¬ http-signature@1.2.0
â”‚ â”‚ â”‚ â”œâ”€â”€ assert-plus@1.0.0
â”‚ â”‚ â”‚ â”œâ”€â”¬ jsprim@1.4.1
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ assert-plus@1.0.0 deduped
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ extsprintf@1.3.0
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ json-schema@0.2.3
â”‚ â”‚ â”‚ â”‚ â””â”€â”¬ verror@1.10.0
â”‚ â”‚ â”‚ â”‚   â”œâ”€â”€ assert-plus@1.0.0 deduped
â”‚ â”‚ â”‚ â”‚   â”œâ”€â”€ core-util-is@1.0.2
â”‚ â”‚ â”‚ â”‚   â””â”€â”€ extsprintf@1.3.0 deduped
â”‚ â”‚ â”‚ â””â”€â”¬ sshpk@1.13.1
â”‚ â”‚ â”‚   â”œâ”€â”€ asn1@0.2.3
â”‚ â”‚ â”‚   â”œâ”€â”€ assert-plus@1.0.0 deduped
â”‚ â”‚ â”‚   â”œâ”€â”¬ bcrypt-pbkdf@1.0.1
â”‚ â”‚ â”‚   â”‚ â””â”€â”€ tweetnacl@0.14.5 deduped
â”‚ â”‚ â”‚   â”œâ”€â”¬ dashdash@1.14.1
â”‚ â”‚ â”‚   â”‚ â””â”€â”€ assert-plus@1.0.0 deduped
â”‚ â”‚ â”‚   â”œâ”€â”¬ ecc-jsbn@0.1.1
â”‚ â”‚ â”‚   â”‚ â””â”€â”€ jsbn@0.1.1 deduped
â”‚ â”‚ â”‚   â”œâ”€â”¬ getpass@0.1.7
â”‚ â”‚ â”‚   â”‚ â””â”€â”€ assert-plus@1.0.0 deduped
â”‚ â”‚ â”‚   â”œâ”€â”€ jsbn@0.1.1
â”‚ â”‚ â”‚   â””â”€â”€ tweetnacl@0.14.5
â”‚ â”‚ â”œâ”€â”€ is-typedarray@1.0.0
â”‚ â”‚ â”œâ”€â”€ isstream@0.1.2
â”‚ â”‚ â”œâ”€â”€ json-stringify-safe@5.0.1
â”‚ â”‚ â”œâ”€â”¬ mime-types@2.1.17
â”‚ â”‚ â”‚ â””â”€â”€ mime-db@1.30.0
â”‚ â”‚ â”œâ”€â”€ oauth-sign@0.8.2
â”‚ â”‚ â”œâ”€â”€ performance-now@2.1.0
â”‚ â”‚ â”œâ”€â”€ qs@6.5.1
â”‚ â”‚ â”œâ”€â”€ safe-buffer@5.1.1
â”‚ â”‚ â”œâ”€â”€ stringstream@0.0.5
â”‚ â”‚ â”œâ”€â”€ tough-cookie@2.3.3 deduped
â”‚ â”‚ â”œâ”€â”¬ tunnel-agent@0.6.0
â”‚ â”‚ â”‚ â””â”€â”€ safe-buffer@5.1.1 deduped
â”‚ â”‚ â””â”€â”€ uuid@3.2.1
â”‚ â”œâ”€â”€ sax@1.2.4
â”‚ â”œâ”€â”€ symbol-tree@3.2.2
â”‚ â”œâ”€â”¬ tough-cookie@2.3.3
â”‚ â”‚ â””â”€â”€ punycode@1.4.1
â”‚ â”œâ”€â”€ webidl-conversions@4.0.2
â”‚ â”œâ”€â”¬ whatwg-encoding@1.0.3
â”‚ â”‚ â””â”€â”€ iconv-lite@0.4.19
â”‚ â”œâ”€â”¬ whatwg-url@4.8.0
â”‚ â”‚ â”œâ”€â”€ tr46@0.0.3
â”‚ â”‚ â””â”€â”€ webidl-conversions@3.0.1
â”‚ â””â”€â”€ xml-name-validator@2.0.1
â”œâ”€â”€ jsdom-global@2.1.1
â”œâ”€â”€ lodash@4.17.4
â”œâ”€â”¬ mocha@5.0.0
â”‚ â”œâ”€â”€ browser-stdout@1.3.0
â”‚ â”œâ”€â”€ commander@2.11.0
â”‚ â”œâ”€â”¬ debug@3.1.0
â”‚ â”‚ â””â”€â”€ ms@2.0.0
â”‚ â”œâ”€â”€ diff@3.3.1
â”‚ â”œâ”€â”€ escape-string-regexp@1.0.5
â”‚ â”œâ”€â”¬ glob@7.1.2
â”‚ â”‚ â”œâ”€â”€ fs.realpath@1.0.0
â”‚ â”‚ â”œâ”€â”¬ inflight@1.0.6
â”‚ â”‚ â”‚ â”œâ”€â”€ once@1.4.0 deduped
â”‚ â”‚ â”‚ â””â”€â”€ wrappy@1.0.2
â”‚ â”‚ â”œâ”€â”€ inherits@2.0.3
â”‚ â”‚ â”œâ”€â”¬ minimatch@3.0.4
â”‚ â”‚ â”‚ â””â”€â”¬ brace-expansion@1.1.8
â”‚ â”‚ â”‚   â”œâ”€â”€ balanced-match@1.0.0
â”‚ â”‚ â”‚   â””â”€â”€ concat-map@0.0.1
â”‚ â”‚ â”œâ”€â”¬ once@1.4.0
â”‚ â”‚ â”‚ â””â”€â”€ wrappy@1.0.2 deduped
â”‚ â”‚ â””â”€â”€ path-is-absolute@1.0.1
â”‚ â”œâ”€â”€ growl@1.10.3
â”‚ â”œâ”€â”€ he@1.1.1
â”‚ â”œâ”€â”¬ mkdirp@0.5.1
â”‚ â”‚ â””â”€â”€ minimist@0.0.8
â”‚ â””â”€â”¬ supports-color@4.4.0
â”‚   â””â”€â”€ has-flag@2.0.0
â”œâ”€â”€ q@1.5.1
â””â”€â”¬ sinon@4.2.2
  â”œâ”€â”€ diff@3.3.1 deduped
  â”œâ”€â”¬ formatio@1.2.0
  â”‚ â””â”€â”€ samsam@1.3.0
  â”œâ”€â”€ lodash.get@4.4.2
  â”œâ”€â”€ lolex@2.3.2
  â”œâ”€â”¬ nise@1.2.2
  â”‚ â”œâ”€â”€ formatio@1.2.0 deduped
  â”‚ â”œâ”€â”€ just-extend@1.1.27
  â”‚ â”œâ”€â”€ lolex@1.6.0
  â”‚ â”œâ”€â”¬ path-to-regexp@1.7.0
  â”‚ â”‚ â””â”€â”€ isarray@0.0.1
  â”‚ â””â”€â”€ text-encoding@0.6.4
  â”œâ”€â”¬ supports-color@5.1.0
  â”‚ â””â”€â”€ has-flag@2.0.0 deduped
  â””â”€â”€ type-detect@4.0.7


travis_time:end:00160790:start=1517415410990605490,finish=1517415412105616891,duration=1115011401[0Ktravis_fold:end:install.npm[0Ktravis_time:start:03352f04[0K$ npm test

> cloudinary@1.9.1 pretest /home/travis/build/cloudinary/cloudinary_npm
> npm run compile


> cloudinary@1.9.1 compile /home/travis/build/cloudinary/cloudinary_npm
> coffee --no-header --map -o lib -c src


> cloudinary@1.9.1 test /home/travis/build/cloudinary/cloudinary_npm
> mocha -R spec --recursive test/



(node:3206) DeprecationWarning: "--compilers" will be removed in a future version of Mocha; see https://git.io/vdcSr for more info
  api
    âœ“ should support the usage API call (120ms)
    âœ“ should support listing by moderation kind and value (3257ms)
    âœ“ should list folders in cloudinary (838ms)
    resources
      âœ“ should allow listing resource_types (50ms)
      âœ“ should allow listing resources (367ms)
      âœ“ should allow listing resources by type (561ms)
      âœ“ should allow listing resources by prefix (184ms)
      âœ“ should allow listing resources by tag (140ms)
      âœ“ should allow listing resources by context only (50ms)
      âœ“ should allow listing resources by context key and value (89ms)
      âœ“ should allow listing resources by public ids (158ms)
      âœ“ should allow listing resources specifying direction (473ms)
      âœ“ should allow listing resources by start_at (45ms)
      âœ“ should allow get resource metadata (842ms)
      behaves like a list with a cursor
        âœ“ :max_results
        âœ“ :next_cursor
      behaves like a list with a cursor
        âœ“ :max_results
        âœ“ :next_cursor
    delete
      âœ“ should allow deleting derived resource (1301ms)
      âœ“ should allow deleting derived resources by transformations (2619ms)
      1) should allow deleting resources
      delete_resources_by_prefix
        âœ“ should allow deleting resources by prefix
        delete_resources_by_tag
          âœ“ should allow deleting resources by tags
          behaves like accepts next_cursor
            âœ“ :next_cursor
      tags
        âœ“ should allow listing tags (39ms)
        âœ“ should allow listing tag by prefix 
        âœ“ should allow listing tag by prefix if not found (39ms)
        behaves like a list with a cursor
          âœ“ :max_results
          âœ“ :next_cursor
      transformations
        âœ“ should allow listing transformations (192ms)
        âœ“ should allow getting transformation metadata (68ms)
        âœ“ should allow getting transformation metadata by info
        behaves like accepts next_cursor
          âœ“ :next_cursor
      upload_preset
        âœ“ should allow creating and listing upload_presets
        âœ“ should allow updating transformation allowed_for_strict (255ms)
        âœ“ should allow creating named transformation (180ms)
        âœ“ should allow unsafe update of named transformation
        âœ“ should allow getting a single upload_preset
        âœ“ should allow deleting named transformation
        âœ“ should allow deleting upload_presets
        âœ“ should allow deleting implicit transformation
        âœ“ should allow updating upload_presets
        behaves like a list with a cursor
          âœ“ :max_results
          âœ“ :next_cursor
        behaves like a list with a cursor
          âœ“ :max_results
          âœ“ :next_cursor
      delete_all_resources
        behaves like accepts next_cursor
          âœ“ :next_cursor
        keep_original: yes
          âœ“ should allow deleting all derived resources
          behaves like a list with a cursor
            âœ“ :max_results
            âœ“ :next_cursor
        update
          âœ“ should support setting manual moderation status (1512ms)
          âœ“ should support requesting ocr info (414ms)
          âœ“ should support requesting raw conversion (431ms)
          âœ“ should support requesting categorization (527ms)
          âœ“ should support requesting detection (769ms)
          âœ“ should support requesting background_removal (481ms)
          âœ“ should support requesting similarity_search (419ms)
          notification url
            âœ“ should support changing moderation status with notification-url
        .restore
          âœ“ should restore a deleted resource (384ms)
        mapping
          âœ“ should create mapping (490ms)
          behaves like a list with a cursor
            âœ“ :max_results
            âœ“ :next_cursor
        publish
          âœ“ should publish by public id (522ms)
          âœ“ should publish by prefix (593ms)
          âœ“ should publish by tag
      access_mode
        âœ“ should update access mode by ids
        âœ“ should return empty when explicit given type doesn't match resource (42ms)
        2) should update access mode by prefix
        âœ“ should update access mode by tag
    utils
      .generate_zip_download_url
        public_ids
          âœ“ should generate a valid url
          âœ“ should include two files (192ms)
    uploader
      .create_archive
        âœ“ should return a Hash
        âœ“ should include keys: resource_type, type, public_id, version, url, secure_url, created_at, tags, signature, bytes, etag, resource_count, file_count
      .create_zip
        âœ“ should call create_archive with "zip" format and ignore missing resources
    authToken
      âœ“ should generate with start and window
      âœ“ should add token to an image tag url
      authenticated url
        âœ“ should add token if authToken is globally set and signed = true
        âœ“ should add token for 'public' resource
        âœ“ should not add token if signed is false
        âœ“ should not add token if authToken is globally set but null auth token is explicitly set and signed = true
        âœ“ explicit authToken should override global setting
        âœ“ should compute expiration as start time + duration
      authentication token
        âœ“ should generate token string
    cloudinary
      âœ“ should use cloud_name from config
      âœ“ should allow overriding cloud_name in options
      âœ“ should use format from options
      âœ“ should use default secure distribution if secure=true
      âœ“ should default to akamai if secure is given with private_cdn and no secure_distribution
      âœ“ should not add cloud_name if secure private_cdn and secure non akamai secure_distribution
      âœ“ should not add cloud_name if private_cdn and not secure
      âœ“ should use width and height from options only if crop is given
      âœ“ should not pass width and height to html in case of fit or limit crop
      âœ“ should not pass width and height to html in case angle was used
      âœ“ should use x, y, radius, opacity, prefix, gravity and quality from options
      âœ“ should support named transformation
      âœ“ should support array of named transformations
      âœ“ should support base transformation
      âœ“ should support array of base transformations
      âœ“ should not include empty transformations
      âœ“ should support size
      âœ“ should use type from options
      âœ“ should use resource_type from options
      âœ“ should ignore http links only if type is not given 
      âœ“ should escape fetch urls
      âœ“ should escape http urls
      âœ“ should support background
      âœ“ should support default_image
      âœ“ should support angle
      âœ“ should support format for fetch urls
      âœ“ should support effect
      âœ“ should support effect with param
      âœ“ should support overlay
      âœ“ should not pass width/height to html for overlay
      âœ“ should support underlay
      âœ“ should not pass width/height to html for underlay
      âœ“ should correctly sign api requests
      âœ“ should correctly build signed preloaded image
      âœ“ should support density
      âœ“ should support page
      âœ“ should support external cname
      âœ“ should support external cname with cdn_subdomain on
      âœ“ should support border
      âœ“ should support flags
      âœ“ should add version if public_id contains /
      âœ“ should not add version if public_id contains version already
      âœ“ should allow to shorted image/upload urls
      âœ“ should escape public_ids
      âœ“ should correctly sign a url
      âœ“ should correctly sign_request
      âœ“ should correctly process_request_params
      âœ“ should support preloaded identifier format
      âœ“ should add responsive width transformation
      :quality
        âœ“ support a percent value
        âœ“ should support auto value
      getUserAgent
        âœ“ should add a user platform to USER_AGENT
      config
        âœ“ should allow nested values in CLOUDINARY_URL
    image helper
      âœ“ should generate image
      âœ“ should accept scale crop and pass width/height to image tag 
      âœ“ should add responsive width transformation
      âœ“ should support width auto transformation
      âœ“ should support dpr auto transformation
      âœ“ should support e_art:incognito transformation
      âœ“ should not mutate the options argument
      :client_hints
        as option
          âœ“ should not use data-src or set responsive class
          âœ“ should override responsive
        as global configuration
          âœ“ should not use data-src or set responsive class
          âœ“ should override responsive
        false
          âœ“ should use normal responsive behaviour
        width
          âœ“ supports auto width
    search_api
      unit
        âœ“ should create empty json
        âœ“ should always return same object in fluent interface
        âœ“ should add expression to query
        âœ“ should add sort_by to query
        âœ“ should add max_results to query
        âœ“ should add next_cursor to query
        âœ“ should add aggregate arguments as array to query
        âœ“ should add with_field to query
      integration
        âœ“ should return all images tagged with npm_advanced_search_335697994 (604ms)
        âœ“ should return resource npm_api_test335697994_1 (724ms)
        âœ“ should paginate resources limited by tag and orderd by ascing public_id (636ms)
        âœ“ should include context (1143ms)
        âœ“ should include context, tags and image_metadata (654ms)
    Cloudinary::Api
      create_streaming_profile
        âœ“ should create a streaming profile with representations (110ms)
        âœ“ should create a streaming profile with an array of transformation (73ms)
      list_streaming_profile
        âœ“ should list streaming profile (234ms)
      delete_streaming_profile
        âœ“ should delete a streaming profile (433ms)
      get_streaming_profile
        âœ“ should get a specific streaming profile (60ms)
      update_streaming_profile
        âœ“ should create a streaming profile with representations (254ms)
    uploader
      âœ“ should successfully upload file (916ms)
      âœ“ should successfully upload url (371ms)
      âœ“ should successfully call explicit api (627ms)
      âœ“ should support eager in upload (910ms)
      âœ“ should successfully generate text image (315ms)
      âœ“ should successfully upload stream (291ms)
      âœ“ should support timeouts
      âœ“ should upload a file and base public id on the filename if use_filename is set to true (299ms)
      âœ“ should upload a file and set the filename as the public_id if use_filename is set to true and unique_filename is set to false (1598ms)
      âœ“ should allow sending face coordinates (726ms)
      âœ“ should allow sending context (350ms)
      âœ“ should support requesting manual moderation (542ms)
      âœ“ should support requesting ocr analysis (1724ms)
      âœ“ should support requesting raw conversion
      âœ“ should support requesting categorization (54ms)
      âœ“ should support requesting detection (92ms)
      âœ“ should support requesting background_removal
      âœ“ should support unsigned uploading using presets (608ms)
      âœ“ should reject promise if error code is returned from the server (98ms)
      âœ“ should successfully upload with pipes (560ms)
      âœ“ should fail with http.Agent (non secure)
      âœ“ should successfully override https agent (480ms)
      âœ“ should create an image upload tag with required properties
      rename
        âœ“ should successfully rename a file (1376ms)
        âœ“ should not rename to an existing public_id (636ms)
        âœ“ should allow to rename to an existing ID, if overwrite is true (1579ms)
        :invalidate
          âœ“ should should pass the invalidate value in rename to the server (49ms)
      destroy
        âœ“ should delete a resource (450ms)
      custom headers
        âœ“ should support custom headers in object format e.g. {Link: "1"} (257ms)
        âœ“ should support custom headers as array of strings e.g. ["Link: 1"] (362ms)
      tags
        âœ“ should add tags to existing resources (1315ms)
        âœ“ should keep existing tags when adding a new tag (743ms)
        âœ“ should replace existing tag (621ms)
      context
        âœ“ should add context to existing resources (540ms)
        âœ“ should upload with context containing reserved characters (331ms)
      allowed_formats
        âœ“ should allow whitelisted formats (459ms)
        âœ“ should prevent non whitelisted formats from being uploaded (42ms)
        âœ“ should allow non whitelisted formats if type is specified and convert to that type (222ms)
      upload_chunked
        âœ“ should specify chunk size (3705ms)
        âœ“ should return error if value is less than 5MB (42ms)
        âœ“ should support uploading a small raw file (474ms)
        âœ“ should support uploading a small image file (347ms)
        âœ“ should support uploading large video files (5473ms)
        âœ“ should support uploading based on a url (380ms)
      :responsive_breakpoints
        :create_derived with different transformation settings
          âœ“ should return a responsive_breakpoints in the response (1757ms)
      explicit
        :invalidate
          âœ“ should should pass the invalidate value to the server
    utils
      âœ“ should use cloud_name from config
      âœ“ should allow overriding cloud_name in options
      âœ“ should use default secure distribution if secure=true
      âœ“ should allow overriding secure distribution if secure=true
      âœ“ should take secure distribution from config if secure=true
      âœ“ should default to akamai if secure is given with private_cdn and no secure_distribution
      âœ“ should not add cloud_name if secure private_cdn and secure non akamai secure_distribution
      âœ“ should allow overriding private_cdn if private_cdn=true
      âœ“ should allow overriding private_cdn if private_cdn=false
      âœ“ should allow overriding cname if cname=example.com
      âœ“ should allow overriding cname if cname=false
      âœ“ should use format from options
      âœ“ should disallow url_suffix in shared distribution
      âœ“ should disallow url_suffix in non upload types
      âœ“ should disallow url_suffix with / or .
      âœ“ should support url_suffix for private_cdn
      âœ“ should put format after url_suffix
      âœ“ should not sign the url_suffix
      âœ“ should sign the decoded form of a url
      âœ“ should support url_suffix for raw uploads
      âœ“ should support url_suffix for video uploads
      âœ“ should support url_suffix for authenticated uploads
      âœ“ should support use_root_path in shared distribution
      âœ“ should support use_root_path for private_cdn
      âœ“ should support use_root_path together with url_suffix for private_cdn
      âœ“ should disllow use_root_path if not image/upload
      âœ“ should use width and height from options only if crop is given
      âœ“ should support initial width and height
      âœ“ should not pass width and height to html in case angle was used
      âœ“ should use x, y, radius, prefix, gravity and quality from options
      âœ“ should support size
      âœ“ should use type from options
      âœ“ should use resource_type from options
      âœ“ should ignore http links only if type is not given
      âœ“ should escape fetch urls
      âœ“ should should escape http urls
      âœ“ should support background
      âœ“ should support default_image
      âœ“ should support angle
      âœ“ should support format for fetch urls
      âœ“ should support effect
      âœ“ should support effect with hash param
      âœ“ should support effect with array param
      âœ“ should use ssl_detected if secure is not given as parameter and not set to true in configuration
      âœ“ should use secure if given over ssl_detected and configuration
      âœ“ should use secure: true from configuration over ssl_detected
      âœ“ should support external cname
      âœ“ should support external cname with cdn_subdomain on
      âœ“ should support cdn_subdomain with secure on if using shared_domain
      âœ“ should support secure_cdn_subdomain false override with secure
      âœ“ should support secure_cdn_subdomain true override with secure
      âœ“ should support string param
      âœ“ should support border
      âœ“ should support flags
      âœ“ should support aspect ratio
      âœ“ build_upload_params should not destroy options
      âœ“ build_explicit_api_params should support multiple eager transformations with a pipe
      âœ“ build_explicit_api_params should support moderation
      âœ“ build_explicit_api_params should support phash
      âœ“ archive_params should support multiple eager transformations with a pipe
      âœ“ build_upload_params canonize booleans
      âœ“ should add version if public_id contains /
      âœ“ should not add version if public_id contains version already
      âœ“ should allow to shorted image/upload urls
      âœ“ should escape public_ids
      âœ“ should support responsive width
      âœ“ should call validate_webhook_signature
      gravity
        âœ“ should support auto
        âœ“ should support focal gravity
        âœ“ should support auto level with thumb cropping
        âœ“ should support custom_no_override
      transformation
        âœ“ should support named transformation
        âœ“ should support array of named transformations
        âœ“ should support base transformation
        âœ“ should support array of base transformations
        âœ“ should support array of transformations
        âœ“ should not include empty transformations
      overlay and underlay
        âœ“ should support overlay
        âœ“ should not pass width/height to html for overlay
      text
        overlay
          âœ“ should support string (41ms)
          âœ“ should support explicit layer parameter
          âœ“ should support text parameter
          âœ“ should support text with font family and size parameters
          âœ“ should support text with text style parameter
          âœ“ should support subtitles
          âœ“ should support subtitles with font family and size
          âœ“ should not pass width/height to html for overlay
          behaves like a signed url
            âœ“ should correctly sign URL with version (381ms)
            âœ“ should correctly sign URL with transformation and version (549ms)
            âœ“ should correctly sign URL with transformation
            âœ“ should correctly sign fetch URL (757ms)
          behaves like a signed url
            âœ“ should correctly sign URL with version (652ms)
            âœ“ should correctly sign URL with transformation and version (423ms)
            âœ“ should correctly sign URL with transformation
            âœ“ should correctly sign fetch URL (528ms)
          behaves like a signed url
            âœ“ should correctly sign URL with version (363ms)
            âœ“ should correctly sign URL with transformation and version (330ms)
            âœ“ should correctly sign URL with transformation
            âœ“ should correctly sign fetch URL (418ms)
          behaves like a signed url
            âœ“ should correctly sign URL with version (809ms)
            âœ“ should correctly sign URL with transformation and version (317ms)
            âœ“ should correctly sign URL with transformation
            âœ“ should correctly sign fetch URL (603ms)
          behaves like a signed url
            âœ“ should correctly sign URL with version (646ms)
            âœ“ should correctly sign URL with transformation and version (259ms)
            âœ“ should correctly sign URL with transformation
            âœ“ should correctly sign fetch URL (404ms)
      sign URLs
        âœ“ should correctly sign URLs
        âœ“ should correctly sign_request
      streaming_profile
        âœ“ should support streaming_profile in options
      zoom
        âœ“ should support a decimal value
      encode_double_array
        âœ“ should correctly encode double arrays
      Conditional Transformation
        with literal condition string
          âœ“ should include the if parameter as the first component in the transformation string
          âœ“ should allow multiple conditions when chaining transformations 
          including spaces and operators
            âœ“ should translate operators
        with tags
          âœ“ should allow multiple tags condition
        if end
          âœ“ should include the if_end as the last parameter in its component
          âœ“ should support if_else with transformation parameters
          âœ“ if_else should be without any transformation parameters
        chaining conditions
          âœ“ should support and translate operators:  '=', '!=', '<', '>', '<=', '>=', '&&', '||'
      User Define Variables
        âœ“ array should define a set of variables
        âœ“ '$key' should define a variable
        âœ“ should support text values
        âœ“ should support string interpolation
    video tag helper
      âœ“ should generate video tag
      âœ“ should generate video tag with html5 attributes
      âœ“ should generate video tag with various attributes
      âœ“ should generate video tag with fallback
      âœ“ should generate video tag with source types
      ï¿½ï¿½ï¿½ should generate video tag with source transformation
      âœ“ should generate video tag with configurable poster
      âœ“ should not mutate the options argument
    Cloudinary::Utils for video
      utils.url
        :video_codec
          âœ“ Should support a string "auto"
          âœ“ Should support a string "h264:basic:3.1"
          âœ“ should support a hash value
        :audio_codec
          âœ“ should support a string value
        :bit_rate
          âœ“ should support an integer value
          âœ“ should support "<integer>k" 
          âœ“ should support "<integer>m"
        :audio_frequency
          âœ“ should support an integer value
        :video_sampling
          âœ“ should support an integer value
          âœ“ should support an string value in the a form of "<float>s"
        :start_offset
          âœ“ should support decimal seconds 
          âœ“ should support percents of the video length as "<number>p"
          âœ“ should support percents of the video length as "<number>%"
        :end_offset
          âœ“ should support decimal seconds 
          âœ“ should support percents of the video length as "<number>p"
          âœ“ should support percents of the video length as "<number>%"
        :duration
          âœ“ should support decimal seconds 
          âœ“ should support percents of the video length as "<number>p"
          âœ“ should support percents of the video length as "<number>%"
        :offset
          when provided with string range 2.66..3.21
            âœ“ should produce a range transformation in the format of so_2.66,eo_3.21
          when provided with array 2.66,3.21
            âœ“ should produce a range transformation in the format of so_2.66,eo_3.21
          when provided with array of % strings 35%,70%
            âœ“ should produce a range transformation in the format of so_35p,eo_70p
          when provided with array of p strings 35p,70p
            âœ“ should produce a range transformation in the format of so_35p,eo_70p
          when provided with array of float percent 35.5p,70.5p
            âœ“ should produce a range transformation in the format of so_35.5p,eo_70.5p
        when given existing relevant parameters: 'quality', :background, :crop, :width, :height, :gravity, :overlay
          âœ“ should produce the transformation string
      cloudinary.video_thumbnail_url
        âœ“ should generate a cloudinary URI to the video thumbnail
    behaves like a list with a cursor
      âœ“ :max_results
      âœ“ :next_cursor


  372 passing (1m)
  2 failing

  1) api
       delete
         should allow deleting resources:
     Uncaught Error: expected undefined to be an object
      at Assertion.assert (node_modules/expect.js/index.js:96:13)
      at Assertion.a.Assertion.an (node_modules/expect.js/index.js:268:12)
      at Assertion.(anonymous function) [as an] (node_modules/expect.js/index.js:69:24)
      at Function.an (node_modules/expect.js/index.js:499:17)
      at Assertion.empty (node_modules/expect.js/index.js:194:32)
      at Function.empty (node_modules/expect.js/index.js:499:17)
      at test/api_spec.coffee:314:112
      at lib/utils.js:1173:18
      at IncomingMessage.<anonymous> (lib/api.js:112:51)
      at endReadableNT (_stream_readable.js:1055:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)
  

  2) api
       access_mode
         should update access mode by prefix:
     Uncaught Error: expected 'wqzfmzhfpedhpkd3shxp' to equal 'dgvujfnhlw7f3vhaylv6'
      at Assertion.assert (node_modules/expect.js/index.js:96:13)
      at Assertion.be.Assertion.equal (node_modules/expect.js/index.js:216:10)
      at Assertion.(anonymous function) [as be] (node_modules/expect.js/index.js:69:24)
      at test/api_spec.coffee:930:39
      at lib/utils.js:1173:18
      at IncomingMessage.<anonymous> (lib/api.js:112:51)
      at endReadableNT (_stream_readable.js:1055:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)
  



npm ERR! Test failed.  See above for more details.

travis_time:end:03352f04:start=1517415412112368858,finish=1517415500864512789,duration=88752143931[0K
[31;1mThe command "npm test" exited with 1.[0m

Done. Your build exited with 1.
